# 计算机网络
# 传输层
## UDP与TCP的区别
UDP: 用户数据报协议（user datagram protocol），      基于数据报，无连接的，不可靠，一对一，一对多，多对一，多对多，可能丢包

TCP：传输控制协议（transimission control protocol），基于字节流，有连接，  可靠，  一对一，                     保证数据正确性，数据顺序性
## TCP三次握手与四次挥手

### 三次握手
1. 初始客户端与服务端均CLOSED
2. **客户端主动打开，发送SYN报文，进入SYN_SENT状态**
3. **服务端接收报文，发送SYN+ACK报文，进入SYN_RCVD状态**
4. **客户端接受报文，发送ACK报文，建立连接，客户端进入ESTABLISHED,服务端接受报文后进入ESTABLISH状态**

### 四次挥手
1. 初始客户端与服务端均ESTABLISHED
2. **客户端主动关闭，发送FIN报文，客户端进入FIN_WAIT1状态**
3. **服务端接收报文，发送ACK报文，服务端进入CLOSED_WAIT状态,客户端接受报文，进入FIN_WAIT2状态，等待数据传送完毕**
4. **数据传送完毕后，服务端发送FIN报文，进入LAST_ACK状态**
5. **客户端接受报文，发送ACK报文，进入TIME_WAIT状态(需要等待2MSL后进入CLOSED)，服务端接受报文CLOSED

### TCP可靠传输
通过超时重传保证：如果一个报文在超时时间段没有收到确认就重传这个报文
### TCP流量控制
流量控制：避免发送方发送数据过快导致接收方来不及完全收下，由接收方通告发送方进行调控

滑动窗口：接收方在“接收窗口”域指出还可接收的字节数量。发送方在没有新的确认包的情况下至多发送“接收窗口”允许的字节数量。接收方可修改“接收窗口”的值。
### TCP拥塞控制
拥塞控制：发送方根据网络的承载情况控制分组的发送量，以获取高性能通过避免拥塞崩溃

四种拥塞算法：满开始，拥塞避免，快重传，快恢复

**满开始与拥塞避免**
变量：发送方维护一个拥塞窗口cwnd，初始阈值ssthresh（满开始门限）

横向传输轮次，纵向cwnd大小

过程：满开始----每一传输轮次 cwnd*=2；cwnd==ssthresh后进入拥塞避免
      
     拥塞避免---每一传输轮次 cwnd++；
     
     发生超时后，ssthresh=cwnd/2，cwnd=1，再次进入满开始......

**快重传与快恢复**

快重传：在发送方，如果收到三个重复确认，那么可以知道下一个报文段丢失，此时执行快重传，立即重传下一个报文段。例如收到三个 M2，则 M3 丢失，立即重传 M3。

快恢复：发生快重传后（只是丢失个别报文段，并非网络拥塞），ssthresh=cwnd/2,cwnd=ssthresh,直接进入拥塞避免



