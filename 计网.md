# 计算机网络
# 常见问题
### DNS的解析过程（分为递归和迭代）
1. 输入域名，检查本地hosts文件是否存在映射，若有就使用完成解析
2. 若无，查找本地DNS解析器缓存（浏览器缓存），若有就完成解析
3. 若无，真正的请求本地域名服务器（LDNS）来解析这个域名，这台服务器一般在你的城市的某个角落，距离你不会很远，并且这台服务器的性能都很好，一般都会缓存域名解析结果，大约80%的域名解析到这里就完成了。
4. 若无，直接跳到Root Server 域名服务器请求解析
### http与https的区别
1. http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。
2. 端口不同
3. http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。
### 从输入网址到获得页面的过程
1. 域名解析
2. 获得域名后，浏览器向服务器请求建立连接，发起三次握手
3. 连接完成后，浏览器发出http请求
4. 服务器接收到这个请求，并根据路径参数映射到特定的请求处理器进行处理，并将处理结果及相应的视图返回给浏览器
5. 浏览器解析，若遇到对js文件、css文件及图片等静态资源的引用，则重复上述步骤并向服务器请求这些资源
6. 浏览器根据其请求到的资源、数据渲染页面，最终向用户呈现一个完整的页面

# 应用层
## http FTP SMTP

http状态码：
1. 2**请求成功
2. 3**表示重定向，301表示永久重定向，302表示暂时重定向
3. 4**表示客户端错误，请求包含语法错误或无法完成请求
4. 5**表示服务端错误


FTP（文件传输协议）：FTP与HTTP都是运行在tcp上的，FTP使用了两个并行的TCP连接来传输文件，一个是**控制连接**，一个是**数据连接**

## get与post方法的区别
1. get是从服务器获取数据，post是向服务器提交要修改的数据
2. get有缓存，post默认没有缓存（除非手动设置）
3. GET把参数包含在URL中，POST通过request body传递参数。
4. get幂等，post非幂等
5. GET比POST更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息。
6. get只能ascll字符，post没有限制


# 传输层
## UDP与TCP的区别
UDP: 用户数据报协议（user datagram protocol），      基于数据报，无连接的，不可靠，一对一，一对多，多对一，多对多，可能丢包

TCP：传输控制协议（transimission control protocol），基于字节流，有连接，  可靠，  一对一，                     保证数据正确性，数据顺序性
## TCP三次握手与四次挥手

### 三次握手
1. 初始客户端与服务端均CLOSED
2. **客户端主动打开，发送SYN报文，进入SYN_SENT状态**
3. **服务端接收报文，发送SYN+ACK报文，进入SYN_RCVD状态**
4. **客户端接受报文，发送ACK报文，建立连接，客户端进入ESTABLISHED,服务端接受报文后进入ESTABLISH状态**

第三次握手的作用：**可以防止失效的请求报文又传到了服务器而产生连接**

### 四次挥手
1. 初始客户端与服务端均ESTABLISHED
2. **客户端主动关闭，发送FIN报文，客户端进入FIN_WAIT1状态**
3. **服务端接收报文，发送ACK报文，服务端进入CLOSED_WAIT状态,客户端接受报文，进入FIN_WAIT2状态，等待数据传送完毕**
4. **数据传送完毕后，服务端发送FIN报文，进入LAST_ACK状态**
5. **客户端接受报文，发送ACK报文，进入TIME_WAIT状态(需要等待2MSL后进入CLOSED)，服务端接受报文CLOSED

### TCP可靠传输
通过超时重传保证：如果一个报文在超时时间段没有收到确认就重传这个报文
### TCP流量控制
流量控制：避免发送方发送数据过快导致接收方来不及完全收下，由接收方通告发送方进行调控

滑动窗口：接收方在“接收窗口”域指出还可接收的字节数量。发送方在没有新的确认包的情况下至多发送“接收窗口”允许的字节数量。接收方可修改“接收窗口”的值。
### TCP拥塞控制
拥塞控制：发送方根据网络的承载情况控制分组的发送量，以获取高性能通过避免拥塞崩溃

四种拥塞算法：满开始，拥塞避免，快重传，快恢复

**满开始与拥塞避免**
变量：发送方维护一个拥塞窗口cwnd，初始阈值ssthresh（满开始门限）

横向传输轮次，纵向cwnd大小

过程：满开始----每一传输轮次 cwnd*=2；cwnd==ssthresh后进入拥塞避免

拥塞避免---每一传输轮次 cwnd++；
 
发生超时后，ssthresh=cwnd/2，cwnd=1，再次进入满开始......

**快重传与快恢复**

快重传：在发送方，如果收到三个重复确认，那么可以知道下一个报文段丢失，此时执行快重传，立即重传下一个报文段。例如收到三个 M2，则 M3 丢失，立即重传 M3。

快恢复：发生快重传后（只是丢失个别报文段，并非网络拥塞），ssthresh=cwnd/2,cwnd=ssthresh,直接进入拥塞避免



